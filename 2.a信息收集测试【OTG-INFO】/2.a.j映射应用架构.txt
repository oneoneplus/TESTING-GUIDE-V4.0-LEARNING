【概述】
    互联异构的Web服务器基础设施是非常复杂的。可以使其承载数以万计的Web应用程序，同时也使得配置管理和审查成为测试和部署新应用的基础步骤。在实施深入的审计之前，我们必须首先掌握网络和应用的架构。另外，还需要确定整个基础的不同元素，以便弄清楚它们如何与Web应用进行交互，以及对安全造成何种影响。

【思路漫游】
    黑盒渗透测试：
      首先假设为一个简单架构（一台服务器）。然后从其他测试中获取信息，并推导出各种不同的元素，质疑原先的假设并扩展架构结构。测试人员从简单的问题开始，如“是否有防火墙在保护着Web服务器？”这个问题的答案将基于Web服务器的网络扫描结果，以及Web服务器的网络端口在网络边界是否过滤（无应答或ICMP不可达）或服务器是否直接连接到互联网（如向所有非监听端口返回RST包）的分析结果。基于网络数据包的测试，这种分析可以进一步确定所用防火墙的类型。它是一个状态防火墙或者只是一个路由器的访问控制列表过滤器？它是如何配置的？是否可以绕过？
      我们可以通过分析Web服务器标志（banner）来检测Web服务器前面的反向代理，标志可能会直接泄露出反向代理的存在。也可以通过对比服务器的应答和预期的应答来识别反向代理。例如，一些反向代理可以作为入侵防护系统来拦截针对Web服务器的已知攻击。当向目标Web服务器请求不存在的页面时，我们都知道它会返回404错误信息，但是针对一些常见的Web攻击发出的请求，它却返回一个不同的错误信息，那么可能表明反向代理正在过滤请求，并返回一个不同的错误页面，而不是预期的404页面。
